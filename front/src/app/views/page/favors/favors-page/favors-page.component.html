<div class="page-content">
  <h1 class="page-title"> {{ _title }}</h1>

  <div class="flex flex-col gap-2">
    <div>
      <p-button label="Добавить услуги" icon="pi pi-plus"
                (click)="_addPosition()" pTooltip="Добавить услуги или категори"></p-button>
    </div>

    <div class="flex flex-col gap-4 lg:flex-row">
      <div class="favors-list overflow-auto text-center">
        @if (_favorsList().length > 0) {

          <p-table [tableStyle]="{textAlign: 'center'}" [value]="_favorsList()">
            <ng-template #header>
              <tr>
                <th>Услуга</th>
                <th>Цена</th>
                <th>Время оказания</th>
                <th>Действия</th>
              </tr>
            </ng-template>
            <ng-template #body let-favor>
              <tr>
                <td>{{ favor.name }}</td>
                <td>{{ favor.price }}</td>
                <td>{{ favor.time }}</td>
                <td>
                  <div class="flex items-center gap-2">
                    <p-button icon="pi pi-pencil" [rounded]="true" (click)="_editPosition(favor, 'favors')"
                              [text]="true" pTooltip="Редактировать услугу" />
                    <p-button icon="pi pi-trash" severity="danger" [rounded]="true" (click)="_removeFavor(favor)"
                              [text]="true" pTooltip="Удалить услугу" />
                  </div>

                </td>
              </tr>
            </ng-template>
          </p-table>

        } @else {
          <h3>У вас пока нет услуг, необходимо их добавить</h3>
        }
      </div>

      <div class="category-list max-w-sm">
        @if(_categoriesList().length > 0) {
          <p-table [tableStyle]="{textAlign: 'center'}" [value]="_categoriesList()">

            <ng-template #header>
              <tr>
                <th>Наименование</th>
                <th>Действия</th>
              </tr>
            </ng-template>

            <ng-template #body let-item>
              <tr>
                <td>{{ item.name }}</td>
                <td>
                  <div class="flex">
                    <p-button icon="pi pi-pencil" [rounded]="true" (click)="_editPosition(item, 'category')"
                              [text]="true" pTooltip="Редактировать категорию" />
                    <p-button icon="pi pi-trash" severity="danger" [rounded]="true" (click)="_removeCategory(item)"
                              [text]="true" pTooltip="Удалить категорию" />
                  </div>
                </td>
              </tr>
            </ng-template>
          </p-table>
        }
      </div>
    </div>


  </div>
</div>
